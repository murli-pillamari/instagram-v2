{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/demo/instagram/src/components/addPost.jsx\";\nimport { Button, TextField } from \"@mui/material\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass AddPost extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addPostClick = () => {\n      const {\n        caption,\n        location\n      } = this.state.userPost;\n\n      if (caption && location) {\n        // SET SINGLE USERPOST INTO LOCALSTORAGE\n        localStorage.setItem(\"localUserPost\", JSON.stringify(this.state.userPost));\n        window.location.href = \"AddPost\"; // this.setState({\n        //   userPost: {\n        //     caption: null,\n        //     location: null,\n        //   },\n        // });\n        // console.log(\"this.state.userPosts:\", this.state.userPosts);\n        // window.location.href=\"./\"\n      } else {\n        alert(\"Please fill the details\");\n      }\n    };\n\n    this.setPostData = e => {\n      this.setState({\n        userPost: { ...this.state.userPost,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.state = {\n      userPost: {\n        caption: null,\n        location: null\n      },\n      userPosts: []\n    };\n    this.setPostData = this.setPostData.bind(this);\n    this.setPostData = this.setPostData.bind(this);\n  }\n\n  componentDidUpdate() {\n    console.log(\"userPosts did update: \", this.state.userPosts);\n  }\n\n  componentDidMount() {\n    let myArray = [];\n    const localUserPost = JSON.parse(localStorage.getItem(\"localUserPost\"));\n    this.setState({\n      userPost: localUserPost\n    });\n\n    if (localUserPost) {\n      myArray.push({ ...this.state.userPost\n      });\n    }\n\n    console.log(\"myArray: \", myArray);\n    localStorage.setItem(\"localUserPosts\", JSON.stringify(myArray));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"\",\n          children: \"Add Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-10 mt-10 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            onChange: this.setPostData,\n            name: \"caption\",\n            label: \"Caption\",\n            error: !this.state.userPost.caption,\n            helperText: \"Field is required\",\n            value: this.state.userPost.caption || \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: this.setPostData,\n            name: \"location\",\n            label: \"Location\",\n            error: !this.state.userPost.location,\n            helperText: \"Field is required\",\n            value: this.state.userPost.location || \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.addPostClick,\n            className: \"w-2/5 self-center\",\n            variant: \"outlined\",\n            children: \"ADD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default AddPost;","map":{"version":3,"names":["Button","TextField","React","AddPost","Component","constructor","props","addPostClick","caption","location","state","userPost","localStorage","setItem","JSON","stringify","window","href","alert","setPostData","e","setState","target","name","value","userPosts","bind","componentDidUpdate","console","log","componentDidMount","myArray","localUserPost","parse","getItem","push","render"],"sources":["/opt/lampp/htdocs/demo/instagram/src/components/addPost.jsx"],"sourcesContent":["import { Button, TextField } from \"@mui/material\";\nimport React from \"react\";\n\nclass AddPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userPost: {\n        caption: null,\n        location: null,\n      },\n      userPosts: [],\n    };\n    this.setPostData = this.setPostData.bind(this);\n    this.setPostData = this.setPostData.bind(this);\n  }\n\n  componentDidUpdate() {\n    console.log(\"userPosts did update: \", this.state.userPosts);\n  }\n  componentDidMount(){\n\n    let myArray=[];\n    const localUserPost = JSON.parse(localStorage.getItem(\"localUserPost\"));\n    this.setState({\n      userPost:localUserPost\n    })\n    if(localUserPost){\n      myArray.push({...this.state.userPost})\n    }\n    console.log(\"myArray: \",myArray)\n    localStorage.setItem(\n      \"localUserPosts\",\n      JSON.stringify(myArray)\n    );\n\n  }\n  addPostClick = () => {\n    const { caption, location } = this.state.userPost;\n    if (caption && location) {\n      // SET SINGLE USERPOST INTO LOCALSTORAGE\n      localStorage.setItem(\n        \"localUserPost\",\n        JSON.stringify(this.state.userPost)\n      );\n\n        window.location.href=\"AddPost\"\n      // this.setState({\n      //   userPost: {\n      //     caption: null,\n      //     location: null,\n      //   },\n      // });\n      // console.log(\"this.state.userPosts:\", this.state.userPosts);\n      // window.location.href=\"./\"\n    } else {\n      alert(\"Please fill the details\");\n    }\n  };\n  setPostData = (e) => {\n    this.setState({\n      userPost: {\n        ...this.state.userPost,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n  render() {\n    return (\n      <>\n        <div className=\"flex flex-col\">\n          <h2 className=\"\">Add Post</h2>\n          <div className=\"px-10 mt-10 flex flex-col\">\n            <TextField\n              onChange={this.setPostData}\n              name=\"caption\"\n              label=\"Caption\"\n              error={!this.state.userPost.caption}\n              helperText=\"Field is required\"\n              value={this.state.userPost.caption || \"\"}\n            />\n            <TextField\n              onChange={this.setPostData}\n              name=\"location\"\n              label=\"Location\"\n              error={!this.state.userPost.location}\n              helperText=\"Field is required\"\n              value={this.state.userPost.location || \"\"}\n            />\n            <Button\n              onClick={this.addPostClick}\n              className=\"w-2/5 self-center\"\n              variant=\"outlined\"\n            >\n              ADD\n            </Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\nexport default AddPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}